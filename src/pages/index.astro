---
import { fetchProfile } from '../lib/github'

import DefaultLayout from '../layouts/Default.astro'

import Greeting from '../sections/Greeting.astro'
import Profile from '../sections/Profile.astro'
import Projects from '../sections/Projects.astro'
import Skills from '../sections/Skills.astro'

const ghProfile = await fetchProfile()
---

<DefaultLayout title="Emilio Gozo" openGraph={{ image: `${import.meta.env.URL}/portfolio-greeting.png` }}>
  <Greeting />
  <Skills />
  {ghProfile && <Projects prof={ghProfile} />}
  {ghProfile && <Profile prof={ghProfile} />}
</DefaultLayout>
